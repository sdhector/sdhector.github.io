<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Hector Sanchez" />


<title>NOAAH</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}

.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Hector's website</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="portfolio.html">Portfolio</a>
</li>
<li>
  <a href="about.html">About me</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    PDF CV/Resume
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="CVEnglish.pdf">English</a>
    </li>
    <li>
      <a href="CVEspaÃ±ol.pdf">Spanish</a>
    </li>
  </ul>
</li>
<li>
  <a href="contact.html">Contact</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">NOAAH</h1>
<h4 class="author"><em>Hector Sanchez</em></h4>
<h4 class="date"><em>March 6, 2018</em></h4>

</div>


<p>The list of data sets available are shown below. The most important one is GSOM because it facilitates the data acquisition, since it already calculates the average temperature for the month. A lot less computation to do.</p>
<pre class="r"><code>datasets &lt;- ncdc_datasets()$data

datasets %&gt;% 
  select(name, id, mindate, maxdate)</code></pre>
<pre><code>##                           name         id    mindate    maxdate
## 1              Daily Summaries      GHCND 1763-01-01 2018-03-06
## 2  Global Summary of the Month       GSOM 1763-01-01 2018-02-01
## 3   Global Summary of the Year       GSOY 1763-01-01 2017-01-01
## 4     Weather Radar (Level II)    NEXRAD2 1991-06-05 2018-03-07
## 5    Weather Radar (Level III)    NEXRAD3 1994-05-20 2018-03-04
## 6      Normals Annual/Seasonal NORMAL_ANN 2010-01-01 2010-01-01
## 7                Normals Daily NORMAL_DLY 2010-01-01 2010-12-31
## 8               Normals Hourly NORMAL_HLY 2010-01-01 2010-12-31
## 9              Normals Monthly NORMAL_MLY 2010-01-01 2010-12-01
## 10     Precipitation 15 Minute  PRECIP_15 1970-05-12 2014-01-01
## 11        Precipitation Hourly PRECIP_HLY 1900-01-01 2014-01-01</code></pre>
<p>It is also possible to get the different stations available. However, it is also possible to specify the lat and lon, or the city.</p>
<pre class="r"><code>location &lt;- ncdc_stations(datasetid=&#39;GHCND&#39;, limit = 20)
location$data %&gt;% select(name, id)</code></pre>
<pre><code>##                           name                id
## 1  ST JOHNS COOLIDGE FIELD, AC GHCND:ACW00011604
## 2                 ST JOHNS, AC GHCND:ACW00011647
## 3      SHARJAH INTER. AIRP, AE GHCND:AE000041196
## 4      DUBAI INTERNATIONAL, AE GHCND:AEM00041194
## 5  ABU DHABI INTERNATIONAL, AE GHCND:AEM00041217
## 6     AL AIN INTERNATIONAL, AE GHCND:AEM00041218
## 7             NORTH SALANG, AF GHCND:AF000040930
## 8                    HERAT, AF GHCND:AFM00040938
## 9      KABUL INTERNATIONAL, AF GHCND:AFM00040948
## 10        KANDAHAR AIRPORT, AF GHCND:AFM00040990
## 11      ALGER DAR EL BEIDA, AG GHCND:AG000060390
## 12                EL GOLEA, AG GHCND:AG000060590
## 13               IN AMENAS, AG GHCND:AG000060611
## 14             TAMANRASSET, AG GHCND:AG000060680
## 15  ORAN HOPITAL MILITAIRE, AG GHCND:AGE00135039
## 16         ANNABA CAP DE GARDE GHCND:AGE00147704
## 17    ALGIERS VILLE UNIVERSITE GHCND:AGE00147705
## 18       ALGIERS BOUZAREAH, AG GHCND:AGE00147706
## 19      ALGIERS CAP CAXINE, AG GHCND:AGE00147707
## 20              TIZI OUZOU, AG GHCND:AGE00147708</code></pre>
<p>Now, the data is downloaded by specifying a station and a period of time. I select the station “GHCND:US1FLSR0004”, located in florida, and obtain data since the year 2009 up to 2018. because the API doesn’t allow to download data for a period longer than 10 years.</p>
<pre class="r"><code>  out &lt;- ncdc(datasetid=&#39;GHCNDMS&#39;,stationid = &quot;GHCND:AE000041196&quot;,  startdate = &#39;2009-01-01&#39;, enddate = &#39;2018-01-01&#39;, limit = 1000)</code></pre>
<p>The variable datatype contains the specific measurement for which data is gathered. The details are found on the following <a href="https://www.ncdc.noaa.gov/cdo-web/datasets/GHCNDMS/locations/CITY:US120032/detail">link</a></p>
<p>I selected Monthly Mean maximum temperature (MMXT), and plot it below per month.</p>
<pre class="r"><code>out$data %&gt;% 
  filter(datatype == &quot;MMXT&quot;) %&gt;% 
  select(date, value) %&gt;% 
  mutate(date = ymd_hms(date), temp = value/10) %&gt;% 
  select(-value) %&gt;% 
  ggplot(aes(x = date, y = temp)) + geom_line()</code></pre>
<p><img src="noah_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
